# NavIT scoped packages registry
@navikt:registry=https://npm.pkg.github.com
//npm.pkg.github.com/:_authToken=${NODE_AUTH_TOKEN}

# Prevent automatic execution of install/postinstall scripts from packages
# This blocks malicious packages from running arbitrary code during installation
ignore-scripts=true

# Disable pre/post lifecycle scripts for additional protection
# Prevents packages from executing code via preinstall, postinstall, etc.
enable-pre-post-scripts=false

# Disable side-effects caching to prevent state persistence issues
# Forces fresh evaluation of package side effects for security
side-effects-cache=false

# Ensure full dependency resolution (not lockfile-only mode)
# Guarantees complete dependency tree validation
lockfile-only=false

# Strict peer dependency resolution
# Fails installation if peer dependencies are not met
strict-peer-dependencies=true

# Verify package integrity using checksums
# Ensures packages haven't been tampered with
verify-store-integrity=true

# Auto-install peers to avoid missing dependencies
auto-install-peers=true

# Use frozen lockfile in CI environments
# Prevents unexpected dependency changes (set via CLI in workflows)
# frozen-lockfile=true  # Set explicitly in CI commands

