:docinfo: shared
:source-highlighter: highlight.js
:toc:

= showIf

`showIf` viser innhold betinget basert på et boolsk uttrykk.

== Syntaks

[source,kotlin]
----
showIf(betingelse) {
    // innhold
}
----

== Varianter

=== Enkel showIf

[source,kotlin]
----
showIf(harBarnetillegg) {
    paragraph {
        text(bokmal { +"Du får barnetillegg." })
    }
}
----

=== showIf med orShow (if/else)

[source,kotlin]
----
showIf(borINorge) {
    paragraph {
        text(bokmal { +"Utbetaling den 20. hver måned." })
    }
}.orShow {
    paragraph {
        text(bokmal { +"Utbetaling til utenlandsk konto." })
    }
}
----

=== showIf med orShowIf (if/elseif/else)

[source,kotlin]
----
showIf(uforegrad.greaterThanOrEqual(80)) {
    text(bokmal { +"Svært høy uføregrad." })
}.orShowIf(uforegrad.greaterThanOrEqual(50)) {
    text(bokmal { +"Høy uføregrad." })
}.orShowIf(uforegrad.greaterThanOrEqual(20)) {
    text(bokmal { +"Moderat uføregrad." })
}.orShow {
    text(bokmal { +"Lav uføregrad." })
}
----

== Betingelser

=== Sammenligninger

[source,kotlin]
----
verdi.equalTo(annenVerdi)             // ==
verdi.notEqualTo(annenVerdi)          // !=
verdi.greaterThan(annenVerdi)         // >
verdi.lessThan(annenVerdi)            // <
verdi.greaterThanOrEqual(annenVerdi)  // >=
verdi.lessThanOrEqual(annenVerdi)     // <=
----

=== Logiske operatorer

[source,kotlin]
----
betingelse1 and betingelse2           // OG
betingelse1 or betingelse2            // ELLER
not(betingelse)                       // IKKE
----

=== Enum-sjekk

[source,kotlin]
----
sivilstand.isOneOf(Sivilstand.GIFT, Sivilstand.REGISTRERT_PARTNER)
----

=== Null-sjekk

[source,kotlin]
----
verdi.notNull()
verdi.isNull()
----

== Eksempel med kompleks betingelse

[source,kotlin]
----
val erGift = sivilstand.isOneOf(Sivilstand.GIFT, Sivilstand.REGISTRERT_PARTNER)
val harInntekt = inntekt.greaterThan(0.expr())

showIf(erGift and harInntekt) {
    paragraph {
        text(bokmal { +"Ektefellens inntekt påvirker ytelsen." })
    }
}
----

== Scope

`showIf` kan brukes i:

* `outline` - Hovedinnhold
* `paragraph` - Avsnitt
* `list` - Lister
* `table` - Tabeller

== Anti-patterns

IMPORTANT: Bruk aldri vanlig Kotlin `if/else`!

[source,kotlin]
----
// ❌ FEIL - evalueres ved kompilering
if (harBarnetillegg.equals(true)) {
    text(...)
}

// ✅ RIKTIG - bruk showIf
showIf(harBarnetillegg) {
    text(...)
}
----

== Beste praksis

* Bruk `orShow` i stedet for separate `showIf`-blokker
* Trekk ut komplekse betingelser til navngitte variabler
* Bruk `isOneOf` for enum-sjekker
* Bruk xref:dsl/outline/ifNotNull.adoc[ifNotNull] for null-sjekker

== Relaterte elementer

* xref:dsl/outline/ifNotNull.adoc[ifNotNull] - Null-sikker visning
* xref:dsl/outline/forEach.adoc[forEach] - Iterasjon
* xref:dsl/outline/ifElse.adoc[ifElse] - Betinget verdi (ikke visning)

