:docinfo: shared
:source-highlighter: highlight.js
:toc:

= table

`table` definerer en tabell.

== Syntaks

[source,kotlin]
----
table(
    header = {
        column { text(...) }
        column(alignment = ColumnAlignment.RIGHT) { text(...) }
    }
) {
    row {
        cell { text(...) }
        cell { eval(...) }
    }
}
----

== Parametere

=== header

Definerer kolonnene i tabellen:

[source,kotlin]
----
header = {
    column(columnSpan = 2) {
        text(bokmal { +"Beskrivelse" }, FontType.BOLD)
    }
    column(alignment = ColumnAlignment.RIGHT) {
        text(bokmal { +"Beløp" }, FontType.BOLD)
    }
}
----

=== column

[cols="2,3"]
|===
|Parameter |Beskrivelse

|`columnSpan`
|Forholdstall for bredde (default: 1)

|`alignment`
|`LEFT` eller `RIGHT` (default: LEFT)
|===

== Eksempler

=== Grunnleggende tabell

[source,kotlin]
----
paragraph {
    table(
        header = {
            column {
                text(bokmal { +"Måned" }, FontType.BOLD)
            }
            column(alignment = ColumnAlignment.RIGHT) {
                text(bokmal { +"Beløp" }, FontType.BOLD)
            }
        }
    ) {
        row {
            cell { text(bokmal { +"Januar" }) }
            cell { text(bokmal { +"15 000 kr" }) }
        }
        row {
            cell { text(bokmal { +"Februar" }) }
            cell { text(bokmal { +"15 000 kr" }) }
        }
    }
}
----

=== Dynamiske rader med forEach

[source,kotlin]
----
table(
    header = {
        column { text(bokmal { +"Periode" }) }
        column(alignment = ColumnAlignment.RIGHT) { text(bokmal { +"Beløp" }) }
    }
) {
    forEach(perioder) { periode ->
        row {
            cell { eval(periode.maaned.format()) }
            cell { eval(periode.beloep.format()) }
        }
    }
}
----

=== Betinget innhold

[source,kotlin]
----
table(...) {
    showIf(harEkstraRad) {
        row {
            cell { text(bokmal { +"Ekstra" }) }
            cell { text(bokmal { +"1000" }) }
        }
    }

    forEach(perioder) { periode ->
        showIf(periode.aktiv) {
            row {
                cell { eval(periode.beskrivelse) }
                cell { eval(periode.beloep.format()) }
            }
        }
    }
}
----

== Regler

IMPORTANT: Antall celler i hver rad må matche antall kolonner, ellers feiler malen ved oppstart.

* Tabeller må alltid ha en header
* Celler kan ikke inneholde lister, tabeller eller avsnitt
* Bruk `eval()` for å sette inn verdier i celler

== Beste praksis

* Høyrejuster tallverdier med `ColumnAlignment.RIGHT`
* Bruk `FontType.BOLD` for header-tekst
* Bruk `columnSpan` for å kontrollere kolonnebredder

== Relaterte elementer

* xref:dsl/outline/paragraph.adoc[paragraph] - Avsnitt
* xref:dsl/outline/eval.adoc[eval] - Inline uttrykk
* xref:dsl/outline/forEach.adoc[forEach] - Iterasjon

