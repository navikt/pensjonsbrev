:docinfo: shared
:source-highlighter: highlight.js
:toc:

= text

`text` definerer tekstinnhold i brevet.

== Syntaks

=== Moderne syntaks (anbefalt)

[source,kotlin]
----
text(
    bokmal { +"Tekst " + variabel.format() + " mer tekst" },
    nynorsk { +"Tekst " + variabel.format() + " meir tekst" },
)
----

=== Med FontType

[source,kotlin]
----
text(
    bokmal { +"Viktig informasjon" },
    nynorsk { +"Viktig informasjon" },
    FontType.BOLD
)
----

=== Legacy syntaks

[source,kotlin]
----
textExpr(
    bokmal { +"Du får " + beloep.format() + " kroner." },
    nynorsk { +"Du får " + beloep.format() + " kroner." },
)
----

== FontType

[cols="1,2"]
|===
|Type |Beskrivelse

|`PLAIN`
|Normal tekst (standard)

|`BOLD`
|Fet tekst

|`ITALIC`
|Kursiv tekst
|===

== Eksempler

=== Ren tekst

[source,kotlin]
----
paragraph {
    text(
        bokmal { +"Du har søkt om uføretrygd." },
        nynorsk { +"Du har søkt om uføretrygd." },
        english { +"You have applied for disability benefit." },
    )
}
----

=== Tekst med variabler

[source,kotlin]
----
paragraph {
    text(
        bokmal {
            +"Fra "
            +virkningFom.format()
            +" får du "
            +uforegrad.format()
            +" prosent uføretrygd."
        },
        nynorsk {
            +"Frå "
            +virkningFom.format()
            +" får du "
            +uforegrad.format()
            +" prosent uføretrygd."
        },
    )
}
----

=== Sitattegn med quoted()

[source,kotlin]
----
text(
    bokmal {
        +"Vi viser til "
        +"folketrygdloven".quoted()
        +"."
    }
)
// Resultat: Vi viser til «folketrygdloven».
----

=== Inline betingelser med ifElse

[source,kotlin]
----
text(
    bokmal {
        +"Barnetillegget gjelder "
        +ifElse(flereBarn, "barna", "barnet")
        +" dine."
    }
)
----

== Formatering

Verdier må formateres før de kan vises:

[cols="2,2,3"]
|===
|Type |Funksjon |Eksempel

|`Int`
|`format()`
|`75` → "75"

|`Kroner`
|`format()`
|`Kroner(12345)` → "12 345"

|`Double`
|`format(scale = 2)`
|`75.5` → "75,50"

|`LocalDate`
|`format()`
|→ "01.01.2025"

|`Year`
|`format()`
|→ "2025"
|===

== Scope

`text` kan brukes i:

* `paragraph` - Avsnitt
* `title1`, `title2`, `title3` - Overskrifter
* `item` - Listepunkt
* `cell` - Tabellcelle

== Beste praksis

* Bruk moderne `text { bokmal { } }` syntaks
* Formater alltid verdier med `.format()`
* Bruk `quoted()` for sitattegn
* Bruk `ifElse` for inline betingelser i tekst

== Relaterte elementer

* xref:dsl/outline/paragraph.adoc[paragraph] - Avsnitt
* xref:dsl/outline/eval.adoc[eval] - Inline uttrykk
* xref:dsl/outline/newline.adoc[newline] - Linjeskift

