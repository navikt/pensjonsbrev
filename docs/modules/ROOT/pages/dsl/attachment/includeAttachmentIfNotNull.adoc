:docinfo: shared
:source-highlighter: highlight.js
:toc:

= includeAttachmentIfNotNull

`includeAttachmentIfNotNull` inkluderer et vedlegg kun hvis data ikke er null.

== Syntaks

[source,kotlin]
----
includeAttachmentIfNotNull(template, attachmentData)
----

== Parametere

[cols="2,3"]
|===
|Parameter |Beskrivelse

|`template`
|Vedleggsmalen som skal inkluderes

|`attachmentData`
|Nullable data - vedlegget inkluderes kun hvis ikke null
|===

== Eksempel

[source,kotlin]
----
createTemplate(...) {
    title { ... }
    outline { ... }

    // Vedlegget inkluderes kun hvis ekstraData ikke er null
    includeAttachmentIfNotNull(ekstraVedlegg, ekstraData)
}
----

== Bruksomr책de

Typisk bruk er n책r vedleggets visning er direkte knyttet til at data finnes:

[source,kotlin]
----
data class BrevDto(
    // Barnetillegg-data er kun satt hvis bruker har barnetillegg
    val barnetilleggDetaljer: BarnetilleggDetaljerDto?
)

createTemplate(...) {
    // ...

    // Inkluderer vedlegget kun hvis barnetilleggDetaljer finnes
    includeAttachmentIfNotNull(barnetilleggVedlegg, barnetilleggDetaljer)
}
----

== Forskjell fra includeAttachment med predicate

[source,kotlin]
----
// Med predicate - m책 h책ndtere nullable selv
includeAttachment(vedlegg, data!!, predicate = data.notNull())

// Med ifNotNull - enklere og tryggere
includeAttachmentIfNotNull(vedlegg, data)
----

== Relaterte elementer

* xref:dsl/attachment/includeAttachment.adoc[includeAttachment]
* xref:dsl/attachment/index.adoc[Attachment] - Oversikt
* xref:dsl/attachment-template/index.adoc[Attachment Template]

